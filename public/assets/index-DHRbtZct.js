import{h as E,s as F,at as $,a as y,B as A,q as r,W as v,o as p,k as R,N as f,V as h,p as s,O as n,Z as _,x as t,m as x,a5 as j,a6 as q,U as O,T as W}from"./vue-Cm_-Ome7.js";import{c as w,w as Z,e as z,v as k}from"./index-BGkrm5xk.js";import{F as i}from"./index-Gg8Utg5G.js";import{_ as G}from"./index.vue_vue_type_style_index_0_lang-KySb_zIR.js";import{u as H}from"./lang-Ch7gu2FI.js";import"./index-D7pEq_sT.js";import"./index-6wQyfZWi.js";const u="/admin/cms.Site/",J=new Map([["index",u+"index"],["add",u+"add"],["edit",u+"edit"],["del",u+"del"]]);function Q(c){return w({url:u+"index",method:"get",params:c})}function X(c,l){return w({url:J.get(c),method:"post",data:l},{showSuccessMessage:!0})}const Y={class:"default-main ba-table-box"},ee={class:"ba-operate-form"},le={style:{"margin-left":"200px"}},de=E({name:"cms/site",__name:"index",setup(c){const{t:l}=Z.useI18n(),U=z(),d=F();$("baTable",!1);const b=H(),e=y({loading:!0,config:[],remark:"",activeTab:"basic",showAddForm:!1,rules:{},form:{},formKey:k(),params:{acode:b.getDataLang()}}),g=()=>{Q(e.params).then(m=>{e.loading=!1,e.form=m.data.data,e.formKey=k()}).catch(()=>{e.loading=!1})};function V(m=void 0){d.value&&d.value.validate(o=>{o&&(e.form.acode=b.getDataLang(),X("edit",e.form))})}A(()=>{g()});const P=y({}),C=m=>{e.params.acode=m.datalang,g()};return(m,o)=>{const D=r("el-alert"),L=r("el-form"),S=r("el-tab-pane"),T=r("el-tabs"),B=r("el-scrollbar"),N=r("el-button"),I=r("el-card"),K=v("loading"),M=v("blur");return p(),R("div",Y,[e.remark?(p(),f(D,{key:0,class:"ba-table-alert",title:e.remark,type:"info","show-icon":""},null,8,["title"])):h("",!0),s(I,{shadow:"never"},{default:n(()=>[s(G,{style:{"margin-bottom":"20px","margin-left":"0px"},onChangeDataLang:C}),_((p(),f(B,{class:"ba-table-form-scrollbar"},{default:n(()=>[s(T,{modelValue:e.activeTab,"onUpdate:modelValue":o[12]||(o[12]=a=>e.activeTab=a),type:"card"},{default:n(()=>[s(S,{class:"basic-tab-pane",name:"basic",label:t(l)("cms.site.basic")},{default:n(()=>[x("div",ee,[e.loading?h("",!0):(p(),f(L,{key:0,ref_key:"formRef",ref:d,onSubmit:o[10]||(o[10]=j(()=>{},["prevent"])),onKeyup:o[11]||(o[11]=q(a=>V(d.value),["enter"])),model:e.form,"label-position":t(U).layout.shrink?"top":"right","label-width":"200px",rules:P},{default:n(()=>[s(i,{label:t(l)("cms.site.title"),type:"string",modelValue:e.form.title,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.title=a),prop:"title",placeholder:t(l)("Please input field",{field:t(l)("cms.site.title")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.subtitle"),type:"string",modelValue:e.form.subtitle,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.subtitle=a),prop:"subtitle",placeholder:t(l)("Please input field",{field:t(l)("cms.site.subtitle")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.domain"),type:"string",modelValue:e.form.domain,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.domain=a),prop:"domain",placeholder:t(l)("Please input field",{field:t(l)("cms.site.domain")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.logo"),type:"image",modelValue:e.form.logo,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.logo=a),prop:"logo",placeholder:t(l)("Please input field",{field:t(l)("cms.site.logo")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.keywords"),type:"string",modelValue:e.form.keywords,"onUpdate:modelValue":o[4]||(o[4]=a=>e.form.keywords=a),prop:"keywords",placeholder:t(l)("Please input field",{field:t(l)("cms.site.keywords")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.description"),type:"textarea",modelValue:e.form.description,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.description=a),prop:"description",placeholder:t(l)("Please input field",{field:t(l)("cms.site.description")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.icp"),type:"string",modelValue:e.form.icp,"onUpdate:modelValue":o[6]||(o[6]=a=>e.form.icp=a),prop:"icp",placeholder:t(l)("Please input field",{field:t(l)("cms.site.icp")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.theme"),type:"string",modelValue:e.form.theme,"onUpdate:modelValue":o[7]||(o[7]=a=>e.form.theme=a),prop:"theme",placeholder:t(l)("Please input field",{field:t(l)("cms.site.theme")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.statistical"),type:"string",modelValue:e.form.statistical,"onUpdate:modelValue":o[8]||(o[8]=a=>e.form.statistical=a),prop:"statistical",placeholder:t(l)("Please input field",{field:t(l)("cms.site.statistical")})},null,8,["label","modelValue","placeholder"]),s(i,{label:t(l)("cms.site.copyright"),type:"string",modelValue:e.form.copyright,"onUpdate:modelValue":o[9]||(o[9]=a=>e.form.copyright=a),prop:"copyright",placeholder:t(l)("Please input field",{field:t(l)("cms.site.copyright")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-position","rules"]))])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})),[[K,e.loading]]),x("div",le,[_((p(),f(N,{loading:e.loading,onClick:o[13]||(o[13]=a=>V(d.value)),type:"primary"},{default:n(()=>[O(W(t(l)("Save")),1)]),_:1},8,["loading"])),[[M]])])]),_:1})])}}});export{de as default};
