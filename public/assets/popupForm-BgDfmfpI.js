import{h as D,s as R,al as q,a as w,q as d,W as f,o as s,N as b,O as r,Z as x,k as E,U as V,T as S,x as e,m as g,l as y,p as m,a5 as G,a6 as L,_ as h,V as $}from"./vue-Cm_-Ome7.js";import{e as j,w as K,_ as M}from"./index-BGkrm5xk.js";import{F as n}from"./index-Gg8Utg5G.js";import{b as i}from"./validate-CLs7Ey-q.js";import{u as U}from"./ContentSort-B8g_wCC7.js";import"./index-D7pEq_sT.js";import"./index-6wQyfZWi.js";const A={class:"title"},O=D({__name:"popupForm",setup(Z){const p=j(),u=R(),l=q("baTable"),C=l.api.actionUrl.get("index"),v=w({activeTab:"basic"}),{t}=K.useI18n(),T=w({name:[i({name:"required",title:t("cms.contentSort.name")})],mcode:[i({name:"required",title:t("cms.contentSort.mcode")})],sorting:[i({name:"number",title:t("cms.contentSort.sorting")})],create_time:[i({name:"date",title:t("cms.contentSort.create_time")})],update_time:[i({name:"date",title:t("cms.contentSort.update_time")})]}),_=c=>{l.form.items.listtpl=c.listtpl,l.form.items.contenttpl=c.contenttpl};return(c,o)=>{const k=d("el-tab-pane"),F=d("el-tabs"),I=d("el-form"),P=d("el-button"),N=d("el-dialog"),W=f("drag"),z=f("zoom"),B=f("blur");return s(),b(N,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,width:"50%"},{header:r(()=>[x((s(),E("div",A,[V(S(e(l).form.operate?e(t)(e(l).form.operate):""),1)])),[[W,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:r(()=>[g("div",{style:y("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[m(P,{onClick:o[22]||(o[22]=a=>e(l).toggleForm())},{default:r(()=>[V(S(e(t)("Cancel")),1)]),_:1}),x((s(),b(P,{loading:e(l).form.submitLoading,onClick:o[23]||(o[23]=a=>e(l).onSubmit(u.value)),type:"primary"},{default:r(()=>[V(S(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(t)("Save and edit next item"):e(t)("Save")),1)]),_:1},8,["loading"])),[[B]])],4)]),default:r(()=>[e(l).form.loading?$("",!0):(s(),b(I,{key:0,ref_key:"formRef",ref:u,onSubmit:o[20]||(o[20]=G(()=>{},["prevent"])),onKeyup:o[21]||(o[21]=L(a=>e(l).onSubmit(u.value),["enter"])),model:e(l).form.items,"label-position":e(p).layout.shrink?"top":"right","label-width":e(l).form.labelWidth+"px",rules:T},{default:r(()=>[m(F,{modelValue:v.activeTab,"onUpdate:modelValue":o[19]||(o[19]=a=>v.activeTab=a),type:"card"},{default:r(()=>[m(k,{class:"basic-tab-pane",name:"basic",label:e(t)("cms.contentSort.basic")},{default:r(()=>[g("div",{class:h(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:y(e(p).layout.shrink?"":"width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[m(n,{label:e(t)("cms.contentSort.pcode"),type:"remoteSelect",modelValue:e(l).form.items.pcode,"onUpdate:modelValue":o[0]||(o[0]=a=>e(l).form.items.pcode=a),prop:"pcode","input-attr":{pk:"content_sort.scode",params:{select:!0,order:"sorting,asc",acode:e(l).table.filter.acode},field:"name",remoteUrl:e(C),placeholder:e(t)("cms.contentSort.Please select the column")}},null,8,["label","modelValue","input-attr"]),m(n,{label:e(t)("cms.contentSort.name"),type:"string",modelValue:e(l).form.items.name,"onUpdate:modelValue":o[1]||(o[1]=a=>e(l).form.items.name=a),prop:"name",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.name")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.filename"),type:"string",modelValue:e(l).form.items.filename,"onUpdate:modelValue":o[2]||(o[2]=a=>e(l).form.items.filename=a),prop:"filename",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.filename")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.mcode"),type:"remoteSelect",modelValue:e(l).form.items.mcode,"onUpdate:modelValue":o[3]||(o[3]=a=>e(l).form.items.mcode=a),prop:"mcode","input-attr":{pk:"mcode",field:"name",remoteUrl:e(U)+"models",placeholder:e(t)("Please select field",{field:e(t)("cms.contentSort.mcode")}),onRow:_}},null,8,["label","modelValue","input-attr"]),m(n,{label:e(t)("cms.contentSort.listtpl"),type:"remoteSelect",modelValue:e(l).form.items.listtpl,"onUpdate:modelValue":o[4]||(o[4]=a=>e(l).form.items.listtpl=a),prop:"listtpl","input-attr":{remoteUrl:e(U)+"getTpls"},placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.listtpl")})},null,8,["label","modelValue","input-attr","placeholder"]),m(n,{label:e(t)("cms.contentSort.contenttpl"),type:"remoteSelect",modelValue:e(l).form.items.contenttpl,"onUpdate:modelValue":o[5]||(o[5]=a=>e(l).form.items.contenttpl=a),prop:"contenttpl","input-attr":{remoteUrl:e(U)+"getTpls"},placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.contenttpl")})},null,8,["label","modelValue","input-attr","placeholder"]),m(n,{label:e(t)("cms.contentSort.status"),type:"radio",modelValue:e(l).form.items.status,"onUpdate:modelValue":o[6]||(o[6]=a=>e(l).form.items.status=a),prop:"status","input-attr":{content:{1:"显示",0:"隐藏"}},placeholder:e(t)("Please select field",{field:e(t)("cms.contentSort.status")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.gid"),type:"remoteSelect",modelValue:e(l).form.items.gid,"onUpdate:modelValue":o[7]||(o[7]=a=>e(l).form.items.gid=a),prop:"gid","input-attr":{remoteUrl:"/admin/cms.memberGroup/getUserLevel",pk:"gcode",field:"gname"},placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.gid")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.gtype"),type:"remoteSelect",modelValue:e(l).form.items.gtype,"onUpdate:modelValue":o[8]||(o[8]=a=>e(l).form.items.gtype=a),prop:"gtype","input-attr":{remoteUrl:"/admin/cms.memberGroup/getGtypeList",pk:"value",field:"label"},placeholder:e(t)("Please select field",{field:e(t)("cms.contentSort.gtype")})},null,8,["label","modelValue","placeholder"])],6)]),_:1},8,["label"]),m(k,{name:"senior",class:"senior-tab-pane",label:e(t)("cms.contentSort.senior")},{default:r(()=>[g("div",{class:h(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:y(e(p).layout.shrink?"":"width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[m(n,{label:e(t)("cms.contentSort.subname"),type:"string",modelValue:e(l).form.items.subname,"onUpdate:modelValue":o[9]||(o[9]=a=>e(l).form.items.subname=a),prop:"subname",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.subname")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.def1"),type:"string",modelValue:e(l).form.items.def1,"onUpdate:modelValue":o[10]||(o[10]=a=>e(l).form.items.def1=a),prop:"def1",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.def1")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.def2"),type:"string",modelValue:e(l).form.items.def2,"onUpdate:modelValue":o[11]||(o[11]=a=>e(l).form.items.def2=a),prop:"def2",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.def2")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.def3"),type:"string",modelValue:e(l).form.items.def3,"onUpdate:modelValue":o[12]||(o[12]=a=>e(l).form.items.def3=a),prop:"def3",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.def3")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.outlink"),type:"string",modelValue:e(l).form.items.outlink,"onUpdate:modelValue":o[13]||(o[13]=a=>e(l).form.items.outlink=a),prop:"outlink",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.outlink")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.ico"),type:"image",modelValue:e(l).form.items.ico,"onUpdate:modelValue":o[14]||(o[14]=a=>e(l).form.items.ico=a),prop:"ico",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.ico")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.pic"),type:"image",modelValue:e(l).form.items.pic,"onUpdate:modelValue":o[15]||(o[15]=a=>e(l).form.items.pic=a),prop:"pic",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.pic")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.title"),type:"string",modelValue:e(l).form.items.title,"onUpdate:modelValue":o[16]||(o[16]=a=>e(l).form.items.title=a),prop:"title",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.title")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.keywords"),type:"string",modelValue:e(l).form.items.keywords,"onUpdate:modelValue":o[17]||(o[17]=a=>e(l).form.items.keywords=a),prop:"keywords",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.keywords")})},null,8,["label","modelValue","placeholder"]),m(n,{label:e(t)("cms.contentSort.description"),type:"textarea",modelValue:e(l).form.items.description,"onUpdate:modelValue":o[18]||(o[18]=a=>e(l).form.items.description=a),prop:"description",placeholder:e(t)("Please input field",{field:e(t)("cms.contentSort.description")})},null,8,["label","modelValue","placeholder"])],6)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["model","label-position","label-width","rules"]))]),_:1},8,["model-value","onClose"])}}}),le=M(O,[["__scopeId","data-v-7c59791e"]]);export{le as default};
