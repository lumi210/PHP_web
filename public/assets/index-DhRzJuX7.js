import{c as i,w as u,a7 as b,a6 as f}from"./index-BGkrm5xk.js";import{_ as y}from"./popupForm.vue_vue_type_script_setup_true_lang-C4HAeqaQ.js";import{d as h,b as _,T as g,a as k}from"./index-D7pEq_sT.js";import{h as x,s as q,at as E,B as I,q as w,o as n,k as z,x as r,N as T,V as v,p as l}from"./vue-Cm_-Ome7.js";import"./index-Gg8Utg5G.js";import"./validate-CLs7Ey-q.js";import"./index-6wQyfZWi.js";const c="/admin/cms.Models/";function A(){return i({url:c+"add",method:"get"})}const B={class:"default-main ba-table-box"},S=x({name:"cms/models",__name:"index",setup(F){const{t:e}=u.useI18n(),s=q(),m=h(["edit","delete"]),t=new _(new b(c),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("cms.models.id"),prop:"mcode",align:"center",width:90,operator:"RANGE",sortable:"custom"},{label:e("cms.models.name"),prop:"name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.models.type"),prop:"type_text",render:"tag",custom:{单页:"primary",列表:"warning"},align:"center",operator:"eq",sortable:!1},{label:e("cms.models.urlname"),prop:"urlname",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.models.listtpl"),prop:"listtpl",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.models.contenttpl"),prop:"contenttpl",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.models.status"),prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{}},{label:e("cms.models.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:m,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{status:"1"}},{toggleForm({operate:a,operateIds:p}){(a=="Add"||a=="Edit")&&(t.form.loading=!0,A().then(o=>{t.form.extend.typeList=o.data.typeList,t.form.loading=!1}))}});let d=f(t.table.column,"render","buttons");return t.table.column[d].buttons[1].display=a=>a.issystem!=1,t.table.column[0].selectable=a=>a.issystem!=1,E("baTable",t),I(()=>{var a;t.table.ref=s.value,t.mount(),(a=t.getIndex())==null||a.then(()=>{t.initSort(),t.dragSort()})}),(a,p)=>{const o=w("el-alert");return n(),z("div",B,[r(t).table.remark?(n(),T(o,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):v("",!0),l(g,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("Quick search placeholder",{fields:r(e)("cms.models.name")})},null,8,["quick-search-placeholder"]),l(k,{ref_key:"tableRef",ref:s},null,512),l(y)])}}});export{S as default};
