import{c as x,w as v,a7 as I}from"./index-BGkrm5xk.js";import{_ as C}from"./popupForm.vue_vue_type_script_setup_true_lang-CWFBZHYg.js";import{d as T,T as B,a as S,b as E}from"./index-D7pEq_sT.js";import N from"./info-BpCacV8k.js";import{h as q,s as R,at as A,B as F,q as c,o as _,k as M,x as r,N as V,V as $,p as a,O as l,m as h,T as k,af as g}from"./vue-Cm_-Ome7.js";import"./index-Gg8Utg5G.js";import"./validate-CLs7Ey-q.js";import"./index-6wQyfZWi.js";const O="/admin/cms.memberComment/",G=async(p,e)=>await x({url:O+"review",method:"POST",data:{ids:p,status:e}}),z={class:"default-main ba-table-box"},D={class:"table-header-operate-text"},P={class:"table-header-operate-text"},X=q({name:"cms/membercomment",__name:"index",setup(p){const{t:e}=v.useI18n(),d=R();let i=[{name:"info",title:e("cms.membercomment.info"),text:e("cms.membercomment.info"),render:"tipButton",type:"primary",icon:"el-icon-InfoFilled",click:(n,o)=>{t.onInfo(n,o)}}];i=[...i,...T(["delete"])];class y extends E{onInfo(o,m){this.form.items=o,this.form.operate="info"}}const t=new y(new I("/admin/cms.memberComment/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("cms.membercomment.contentid"),prop:"content.title",align:"center",operator:"RANGE",sortable:!1},{label:e("cms.membercomment.comment"),prop:"comment",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.membercomment.uid"),prop:"user.nickname",align:"center",operator:"RANGE",sortable:!1},{label:e("cms.membercomment.status"),prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{}},{label:e("cms.membercomment.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:140,render:"buttons",buttons:i,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{}});A("baTable",t),F(()=>{var n;t.table.ref=d.value,t.mount(),(n=t.getIndex())==null||n.then(()=>{t.initSort(),t.dragSort()})});const b=n=>{const o=t.getSelectionIds();if(o.length==0){g.error(e(`cms.membercomment.select${n}`));return}let m=1;n=="disable"&&(m=0),G(o,m).then(s=>{s.code==1&&(g.success(s.msg),t.getIndex())})};return(n,o)=>{const m=c("el-alert"),s=c("Icon"),f=c("el-button"),u=c("el-tooltip");return _(),M("div",z,[r(t).table.remark?(_(),V(m,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):$("",!0),a(B,{buttons:["refresh","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("Quick search placeholder",{fields:r(e)("cms.membercomment.quick Search Fields")})},{default:l(()=>[a(u,{content:r(e)("cms.membercomment.review"),placement:"top"},{default:l(()=>[a(f,{class:"table-header-operate",style:{"margin-left":"12px"},onClick:o[0]||(o[0]=w=>b("review")),type:"success"},{default:l(()=>[a(s,{color:"#ffffff",name:"el-icon-Switch"}),h("span",D,k(r(e)("cms.membercomment.review")),1)]),_:1})]),_:1},8,["content"]),a(u,{content:r(e)("cms.membercomment.disable"),placement:"top"},{default:l(()=>[a(f,{class:"table-header-operate",style:{"margin-left":"12px"},onClick:o[1]||(o[1]=w=>b("disable")),type:"warning"},{default:l(()=>[a(s,{color:"#ffffff",name:"el-icon-RemoveFilled"}),h("span",P,k(r(e)("cms.membercomment.disable")),1)]),_:1})]),_:1},8,["content"])]),_:1},8,["quick-search-placeholder"]),a(S,{ref_key:"tableRef",ref:d},null,512),a(C),a(N)])}}});export{X as default};
