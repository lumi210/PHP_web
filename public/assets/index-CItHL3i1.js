import{h as O,s as x,at as W,a as w,B as X,q as t,W as C,o as n,k as U,N as p,V as h,p as d,O as o,Z as D,x as s,m as _,a5 as c,a6 as m,Y,X as Z,U as T,T as K}from"./vue-Cm_-Ome7.js";import{w as G,e as H,v as $}from"./index-BGkrm5xk.js";import{F as v}from"./index-Gg8Utg5G.js";import{_ as J,g as Q,p as ee}from"./list.vue_vue_type_script_setup_true_lang-BT94YeHk.js";import{u as B}from"./lang-Ch7gu2FI.js";import"./index-D7pEq_sT.js";import"./index-6wQyfZWi.js";import"./popupForm.vue_vue_type_script_setup_true_lang-B3_hYBfn.js";import"./validate-CLs7Ey-q.js";const ae={class:"default-main ba-table-box"},le={class:"ba-operate-form"},oe={style:{"margin-left":"180px"}},te={style:{margin:"-16px"}},_e=O({name:"cms/label",__name:"index",setup(ne){const{t:r}=G.useI18n(),N=H(),i=x(),g=x([]);W("baTable",!1);const l=w({loading:!0,config:[],remark:"",activeTab:"basic",showAddForm:!1,rules:{},form:{},formKey:$(),params:{acode:B().getDataLang()}}),y=()=>{Q().then(b=>{l.form=b.data,g.value=b.data,l.formKey=$()}).finally(()=>{l.loading=!1})};function f(b=void 0){i.value&&i.value.validate(a=>{a&&(l.loading=!0,l.form.acode=B().getDataLang(),ee(l.form).finally(()=>{l.loading=!1}))})}X(()=>{y()});const F=()=>{y()},L=w({});return(b,a)=>{const S=t("el-alert"),V=t("el-col"),E=t("el-tag"),I=t("el-row"),P=t("el-form"),M=t("el-button"),k=t("el-tab-pane"),R=t("el-tabs"),j=t("el-scrollbar"),q=t("el-card"),z=C("blur"),A=C("loading");return n(),U("div",ae,[l.remark?(n(),p(S,{key:0,class:"ba-table-alert",title:l.remark,type:"info","show-icon":""},null,8,["title"])):h("",!0),d(q,{shadow:"never"},{default:o(()=>[D((n(),p(j,{class:"ba-table-form-scrollbar"},{default:o(()=>[d(R,{modelValue:l.activeTab,"onUpdate:modelValue":a[7]||(a[7]=e=>l.activeTab=e),type:"card",onTabClick:F},{default:o(()=>[d(k,{class:"basic-tab-pane",name:"basic",label:s(r)("cms.label.basic")},{default:o(()=>[_("div",le,[l.loading?h("",!0):(n(),p(P,{key:0,ref_key:"formRef",ref:i,onSubmit:a[4]||(a[4]=c(()=>{},["prevent"])),onKeyup:a[5]||(a[5]=m(e=>f(i.value),["enter"])),model:l.form,"label-position":s(N).layout.shrink?"top":"right","label-width":"180px",rules:L},{default:o(()=>[(n(!0),U(Y,null,Z(g.value,(e,se)=>(n(),p(I,{key:e.name,gutter:15},{default:o(()=>[d(V,{span:20},{default:o(()=>[e.component=="textarea"?(n(),p(v,{key:0,onKeyup:[a[0]||(a[0]=m(c(()=>{},["stop"]),["enter"])),a[1]||(a[1]=m(c(u=>f(i.value),["ctrl"]),["enter"]))],label:e.description,type:e.component,modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,prop:e.name,placeholder:s(r)("Please input field",{field:e.description})},null,8,["label","type","modelValue","onUpdate:modelValue","prop","placeholder"])):e.component=="radio"?(n(),p(v,{key:1,onKeyup:[a[2]||(a[2]=m(c(()=>{},["stop"]),["enter"])),a[3]||(a[3]=m(c(u=>f(i.value),["ctrl"]),["enter"]))],label:e.description,type:e.component,modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,prop:e.name,"input-attr":{content:{0:s(r)("cms.label.close"),1:s(r)("cms.label.open")}},placeholder:s(r)("Please input field",{field:e.description})},null,8,["label","type","modelValue","onUpdate:modelValue","prop","input-attr","placeholder"])):(n(),p(v,{key:2,label:e.description,type:e.component,modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,prop:e.name,placeholder:s(r)("Please input field",{field:e.description})},null,8,["label","type","modelValue","onUpdate:modelValue","prop","placeholder"]))]),_:2},1024),d(V,{span:4},{default:o(()=>[d(E,{size:"large",type:"info"},{default:o(()=>[T(K("{$bd."+e.name+"}"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["model","label-position","rules"]))]),_("div",oe,[D((n(),p(M,{loading:l.loading,onClick:a[6]||(a[6]=e=>f(i.value)),type:"primary"},{default:o(()=>[T(K(s(r)("Save")),1)]),_:1},8,["loading"])),[[z]])])]),_:1},8,["label"]),d(k,{class:"list-tab-pane",name:"list",label:s(r)("cms.label.list")},{default:o(()=>[_("div",te,[d(J)])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})),[[A,l.loading]])]),_:1})])}}});export{_e as default};
