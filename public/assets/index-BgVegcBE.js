import{w as k,a7 as w}from"./index-BGkrm5xk.js";import I from"./popupForm-BgDfmfpI.js";import{_ as z}from"./batchAddForm.vue_vue_type_script_setup_true_lang-C99Oh6ye.js";import{d as E,b as q,T as x,a as N}from"./index-D7pEq_sT.js";import{u as C}from"./ContentSort-B8g_wCC7.js";import{_ as T}from"./index.vue_vue_type_style_index_0_lang-KySb_zIR.js";import{h as V,s as B,at as F,B as A,q as c,o as d,k as P,x as a,N as v,V as K,p as o,O as r,m as L,T as u,U as R,ar as D}from"./vue-Cm_-Ome7.js";import"./index-Gg8Utg5G.js";import"./validate-CLs7Ey-q.js";import"./index-6wQyfZWi.js";import"./lang-Ch7gu2FI.js";const $={class:"default-main ba-table-box"},G={class:"table-header-operate-text"},te=V({name:"cms/contentSort",__name:"index",setup(M){const{t:e}=k.useI18n(),i=B(),b=E(["edit","delete"]),t=new q(new w(C),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("cms.contentSort.name"),prop:"name",align:"left",render:"slot",slotName:"name",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.id"),prop:"scode",align:"center",width:100,operator:"RANGE",sortable:"custom"},{label:e("cms.contentSort.filename"),prop:"filename",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.mcode"),prop:"models.name",render:"tag",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.listtpl"),prop:"listtpl",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.contenttpl"),prop:"contenttpl",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.outlink"),prop:"outlink",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.contentSort.sorting"),prop:"sorting",render:"slot",slotName:"sorting",align:"center",operator:"RANGE",sortable:!1},{label:e("cms.contentSort.status"),prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{}},{label:e("cms.contentSort.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:b,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{status:"1",sorting:255,gtype:"4"}});F("baTable",t),A(()=>{var l;t.table.ref=i.value,t.mount(),(l=t.getIndex())==null||l.then(()=>{t.initSort(),t.dragSort()})});const f=(l,s)=>{s.loading=!0,t.api.postData("edit",{[t.table.pk]:s[t.table.pk],sorting:l}).then(()=>{t.onTableAction("field-change",{value:l,...s}),t.table.data=[],t.getIndex()}).finally(()=>{s.loading=!1})},_=()=>{t.form.operate="BatchAdd",t.form.items=D(t.form.defaultItems)};return(l,s)=>{const h=c("el-alert"),g=c("Icon"),y=c("el-button"),p=c("el-table-column"),S=c("el-input");return d(),P("div",$,[a(t).table.remark?(d(),v(h,{key:0,class:"ba-table-alert",title:a(t).table.remark,type:"info","show-icon":""},null,8,["title"])):K("",!0),o(x,{buttons:["refresh","add","edit","delete","unfold","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":a(e)("Quick search placeholder",{fields:a(e)("cms.contentSort.name")})},{refreshAppend:r(()=>[o(T)]),default:r(()=>[o(y,{class:"table-header-operate",onClick:_,type:"primary"},{default:r(()=>[o(g,{color:"#ffffff",name:"el-icon-Finished"}),L("span",G,u(a(e)("cms.contentSort.batchadd")),1)]),_:1})]),_:1},8,["quick-search-placeholder"]),o(N,{ref_key:"tableRef",ref:i,pagination:!1},{name:r(()=>[o(p,{label:a(e)("cms.contentSort.name"),align:"left"},{default:r(n=>[R(u(n.row.name),1)]),_:1},8,["label"])]),sorting:r(()=>[o(p,{label:a(e)("cms.contentSort.sorting"),align:"left"},{default:r(n=>[o(S,{modelValue:n.row.sorting,"onUpdate:modelValue":m=>n.row.sorting=m,onChange:m=>f(n.row.sorting,n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"])]),_:1},512),o(I),o(z)])}}});export{te as default};
