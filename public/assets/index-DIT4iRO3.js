import{w as h,a7 as _}from"./index-BGkrm5xk.js";import{_ as k}from"./popupForm.vue_vue_type_script_setup_true_lang-LKwr-KO8.js";import{d as w,b as y,T as q,a as x}from"./index-D7pEq_sT.js";import{h as C,s as z,at as E,B as I,q as n,o as d,k as v,x as l,N,V as T,p as o,O as p}from"./vue-Cm_-Ome7.js";import"./index-Gg8Utg5G.js";import"./validate-CLs7Ey-q.js";import"./index-6wQyfZWi.js";const V={class:"default-main ba-table-box"},O=C({name:"cms/slide",__name:"index",setup(B){const{t:e}=h.useI18n(),i=z(),m=w(["edit","delete"]),t=new y(new _("/admin/cms.Slide/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("cms.slide.id"),prop:"id",align:"center",width:80,operator:!1,sortable:"custom"},{label:e("cms.slide.gid"),prop:"gid",align:"center",width:110,operator:"RANGE",sortable:"custom"},{label:e("cms.slide.pic"),prop:"pic",align:"center",render:"image",operatorPlaceholder:e("Fuzzy query"),operator:!1,sortable:!1},{label:e("cms.slide.link"),prop:"link",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.slide.title"),prop:"title",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.slide.subtitle"),prop:"subtitle",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.slide.sorting"),prop:"sorting",align:"center",render:"slot",slotName:"sorting",operator:"RANGE",sortable:!1},{label:e("Operate"),align:"center",width:150,render:"buttons",buttons:m,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{}});E("baTable",t);const u=(a,r)=>{t.api.postData("edit",{[t.table.pk]:r[t.table.pk],sorting:a}).then(()=>{r.loading=!1,t.table.data=[],t.getIndex()}).catch(()=>{r.loading=!1})};return I(()=>{var a;t.table.ref=i.value,t.mount(),t.table.filter.order="sorting,asc",(a=t.getIndex())==null||a.then(()=>{t.initSort(),t.dragSort()})}),(a,r)=>{const b=n("el-alert"),f=n("el-input"),g=n("el-table-column");return d(),v("div",V,[l(t).table.remark?(d(),N(b,{key:0,class:"ba-table-alert",title:l(t).table.remark,type:"info","show-icon":""},null,8,["title"])):T("",!0),o(q,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":l(e)("Quick search placeholder",{fields:l(e)("cms.slide.quick Search Fields")})},null,8,["quick-search-placeholder"]),o(x,{ref_key:"tableRef",ref:i},{sorting:p(()=>[o(g,{width:"100",label:l(e)("cms.slide.sorting"),align:"left"},{default:p(s=>[o(f,{modelValue:s.row.sorting,"onUpdate:modelValue":c=>s.row.sorting=c,onChange:c=>u(s.row.sorting,s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"])]),_:1},512),o(k)])}}});export{O as default};
