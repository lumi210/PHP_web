import{h as W,s as E,al as y,a as $,q as s,W as d,o as i,N as n,O as r,Z as p,k as V,U as f,T as c,x as e,m as b,l as k,p as m,_ as j,a5 as K,a6 as L,Y as P,X as R,aD as q,V as A}from"./vue-Cm_-Ome7.js";import{e as O,w as X}from"./index-BGkrm5xk.js";import{F as x}from"./index-Gg8Utg5G.js";import{b as C}from"./validate-CLs7Ey-q.js";const Y={class:"title"},oe=W({__name:"popupForm",setup(Z){const _=O(),u=E(),o=y("baTable"),h=y("typeTextMap"),{t}=X.useI18n(),w=$({create_time:[C({name:"date",title:t("cms.label.create_time")})],update_time:[C({name:"date",title:t("cms.label.update_time")})]});return(G,l)=>{const S=s("el-option"),T=s("el-select"),F=s("el-form-item"),D=s("el-form"),I=s("el-scrollbar"),g=s("el-button"),N=s("el-dialog"),U=d("drag"),z=d("zoom"),B=d("loading"),M=d("blur");return i(),n(N,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,width:"50%"},{header:r(()=>[p((i(),V("div",Y,[f(c(e(o).form.operate?e(t)(e(o).form.operate):""),1)])),[[U,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:r(()=>[b("div",{style:k("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[m(g,{onClick:l[6]||(l[6]=a=>e(o).toggleForm())},{default:r(()=>[f(c(e(t)("Cancel")),1)]),_:1}),p((i(),n(g,{loading:e(o).form.submitLoading,onClick:l[7]||(l[7]=a=>e(o).onSubmit(u.value)),type:"primary"},{default:r(()=>[f(c(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(t)("Save and edit next item"):e(t)("Save")),1)]),_:1},8,["loading"])),[[M]])],4)]),default:r(()=>[p((i(),n(I,{class:"ba-table-form-scrollbar"},{default:r(()=>[b("div",{class:j(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:k(e(_).layout.shrink?"":"width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?A("",!0):(i(),n(D,{key:0,ref_key:"formRef",ref:u,onSubmit:l[4]||(l[4]=K(()=>{},["prevent"])),onKeyup:l[5]||(l[5]=L(a=>e(o).onSubmit(u.value),["enter"])),model:e(o).form.items,"label-position":e(_).layout.shrink?"top":"right","label-width":e(o).form.labelWidth+"px",rules:w},{default:r(()=>[m(x,{label:e(t)("cms.label.name"),type:"string",modelValue:e(o).form.items.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(o).form.items.name=a),prop:"name",placeholder:e(t)("Please input field",{field:e(t)("cms.label.name")})},null,8,["label","modelValue","placeholder"]),m(F,{label:e(t)("cms.label.type"),prop:"type"},{default:r(()=>[m(T,{modelValue:e(o).form.items.type,"onUpdate:modelValue":l[1]||(l[1]=a=>e(o).form.items.type=a),placement:"bottom"},{default:r(()=>[(i(!0),V(P,null,R(e(h),(a,v)=>(i(),n(S,{key:v,label:a,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),m(x,{label:e(t)("cms.label.description"),type:"string",modelValue:e(o).form.items.description,"onUpdate:modelValue":l[2]||(l[2]=a=>e(o).form.items.description=a),prop:"description",placeholder:e(t)("Please input field",{field:e(t)("cms.label.description")})},null,8,["label","modelValue","placeholder"]),p(b("input",{type:"hidden","onUpdate:modelValue":l[3]||(l[3]=a=>e(o).form.items.id=a)},null,512),[[q,e(o).form.items.id]])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[B,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{oe as _};
