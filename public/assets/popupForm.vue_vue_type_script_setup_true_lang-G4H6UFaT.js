import{h as L,s as W,al as _,a as I,q as i,W as V,o as d,N as m,O as s,Z as v,k,U as h,T as U,x as e,m as P,l as w,p as n,a5 as u,a6 as c,_ as N,Y as $,X as A,V as M}from"./vue-Cm_-Ome7.js";import{e as O,w as X}from"./index-BGkrm5xk.js";import{F as r}from"./index-Gg8Utg5G.js";import{b as x}from"./validate-CLs7Ey-q.js";import{g as Y}from"./Extfield-CKk9p3fq.js";const Z={class:"title"},oe=L({__name:"popupForm",setup(G){const g=O(),p=W(),t=_("baTable"),q=_("mcode"),C=W([]),{t:l}=X.useI18n(),S=I({activeTab:"basic"});Y(q).then(y=>{y.code==1&&(C.value=y.data)});const f=I({});return setTimeout(()=>{f.title=[x({name:"required",title:l("cms.content.title")})],f.content=[x({name:"editorRequired",title:l("cms.content.content")})],f.scode=[x({name:"required",title:l("cms.content.scode")})]},200),(y,a)=>{const T=i("el-tab-pane"),z=i("el-tabs"),B=i("el-form"),D=i("el-scrollbar"),F=i("el-button"),E=i("el-dialog"),K=V("drag"),R=V("zoom"),j=V("loading"),H=V("blur");return d(),m(E,{class:"ba-operate-dialog bd-right-full-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(t).form.operate),onClose:e(t).toggleForm,width:"95%"},{header:s(()=>[v((d(),k("div",Z,[h(U(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[K,[".ba-operate-dialog",".el-dialog__header"]],[R,".ba-operate-dialog"]])]),footer:s(()=>[P("div",{style:w(["margin-left:"+e(t).form.labelWidth+"px",{"text-align":"left"}])},[n(F,{onClick:a[21]||(a[21]=o=>e(t).toggleForm())},{default:s(()=>[h(U(e(l)("Cancel")),1)]),_:1}),v((d(),m(F,{loading:e(t).form.submitLoading,onClick:a[22]||(a[22]=o=>e(t).onSubmit(p.value)),type:"primary"},{default:s(()=>[h(U(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[H]])],4)]),default:s(()=>[v((d(),m(D,{class:"ba-table-form-scrollbar"},{default:s(()=>[e(t).form.loading?M("",!0):(d(),m(B,{key:0,ref_key:"formRef",ref:p,onSubmit:a[19]||(a[19]=u(()=>{},["prevent"])),onKeyup:a[20]||(a[20]=c(o=>e(t).onSubmit(p.value),["enter"])),model:e(t).form.items,"label-position":e(g).layout.shrink?"top":"right","label-width":e(t).form.labelWidth+"px",rules:f},{default:s(()=>[n(z,{modelValue:S.activeTab,"onUpdate:modelValue":a[18]||(a[18]=o=>S.activeTab=o),type:"card"},{default:s(()=>[n(T,{class:"basic-tab-pane",name:"basic",label:e(l)("cms.content.basic")},{default:s(()=>[P("div",{class:N(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:w(e(g).layout.shrink?"":"width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[n(r,{label:e(l)("cms.content.title"),type:"string",modelValue:e(t).form.items.title,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).form.items.title=o),prop:"title",placeholder:e(l)("Please input field",{field:e(l)("cms.content.title")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.ico"),type:"image",modelValue:e(t).form.items.ico,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).form.items.ico=o),prop:"ico",placeholder:e(l)("Please input field",{field:e(l)("cms.content.ico")})},null,8,["label","modelValue","placeholder"]),(d(!0),k($,null,A(C.value,o=>(d(),k($,{key:o.name},[o.component=="textarea"?(d(),m(r,{key:0,onKeyup:[a[2]||(a[2]=c(u(()=>{},["stop"]),["enter"])),a[3]||(a[3]=c(u(b=>e(t).onSubmit(p.value),["ctrl"]),["enter"]))],label:o.description,type:o.component,modelValue:e(t).form.items[o.name],"onUpdate:modelValue":b=>e(t).form.items[o.name]=b,prop:o.name,"input-attr":{content:o.content},placeholder:e(l)("Please input field",{field:e(l)(o.name)})},null,8,["label","type","modelValue","onUpdate:modelValue","prop","input-attr","placeholder"])):(d(),m(r,{key:1,label:o.description,type:o.component,modelValue:e(t).form.items[o.name],"onUpdate:modelValue":b=>e(t).form.items[o.name]=b,prop:o.name,"input-attr":{content:o.content},placeholder:e(l)("Please input field",{field:e(l)(o.name)})},null,8,["label","type","modelValue","onUpdate:modelValue","prop","input-attr","placeholder"]))],64))),128)),n(r,{label:e(l)("cms.content.content"),type:"editor",modelValue:e(t).form.items.content,"onUpdate:modelValue":a[4]||(a[4]=o=>e(t).form.items.content=o),prop:"content",onKeyup:[a[5]||(a[5]=c(u(()=>{},["stop"]),["enter"])),a[6]||(a[6]=c(u(o=>e(t).onSubmit(p.value),["ctrl"]),["enter"]))],placeholder:e(l)("Please input field",{field:e(l)("cms.content.content")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.tags"),type:"string",modelValue:e(t).form.items.tags,"onUpdate:modelValue":a[7]||(a[7]=o=>e(t).form.items.tags=o),prop:"tags",placeholder:e(l)("cms.content.Please enter the article tag, English comma separated")},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.author"),type:"string",modelValue:e(t).form.items.author,"onUpdate:modelValue":a[8]||(a[8]=o=>e(t).form.items.author=o),prop:"author",placeholder:e(l)("Please input field",{field:e(l)("cms.content.author")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.source"),type:"string",modelValue:e(t).form.items.source,"onUpdate:modelValue":a[9]||(a[9]=o=>e(t).form.items.source=o),prop:"source",placeholder:e(l)("Please input field",{field:e(l)("cms.content.source")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.pics"),type:"images",modelValue:e(t).form.items.pics,"onUpdate:modelValue":a[10]||(a[10]=o=>e(t).form.items.pics=o),prop:"pics",placeholder:e(l)("Please input field",{field:e(l)("cms.content.pics")})},null,8,["label","modelValue","placeholder"])],6)]),_:1},8,["label"]),n(T,{name:"senior",class:"senior-tab-pane",label:e(l)("cms.content.senior")},{default:s(()=>[P("div",{class:N(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:w(e(g).layout.shrink?"":"width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[n(r,{label:e(l)("cms.content.titlecolor"),type:"color",modelValue:e(t).form.items.titlecolor,"onUpdate:modelValue":a[11]||(a[11]=o=>e(t).form.items.titlecolor=o),prop:"titlecolor",placeholder:e(l)("Please input field",{field:e(l)("cms.content.titlecolor")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.subtitle"),type:"string",modelValue:e(t).form.items.subtitle,"onUpdate:modelValue":a[12]||(a[12]=o=>e(t).form.items.subtitle=o),prop:"subtitle",placeholder:e(l)("Please input field",{field:e(l)("cms.content.subtitle")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.date"),type:"datetime",modelValue:e(t).form.items.date,"onUpdate:modelValue":a[13]||(a[13]=o=>e(t).form.items.date=o),prop:"date",blockHelp:e(l)("cms.content.Warm Tip: Set a future time for scheduled publishing"),placeholder:e(l)("Please select field",{field:e(l)("cms.content.date")})},null,8,["label","modelValue","blockHelp","placeholder"]),n(r,{label:e(l)("cms.content.enclosure"),type:"file",modelValue:e(t).form.items.enclosure,"onUpdate:modelValue":a[14]||(a[14]=o=>e(t).form.items.enclosure=o),prop:"enclosure",placeholder:e(l)("Please input field",{field:e(l)("cms.content.enclosure")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.keywords"),type:"string",modelValue:e(t).form.items.keywords,"onUpdate:modelValue":a[15]||(a[15]=o=>e(t).form.items.keywords=o),prop:"keywords",placeholder:e(l)("Please input field",{field:e(l)("cms.content.keywords")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.description"),type:"textarea",modelValue:e(t).form.items.description,"onUpdate:modelValue":a[16]||(a[16]=o=>e(t).form.items.description=o),prop:"description",placeholder:e(l)("Please input field",{field:e(l)("cms.content.description")})},null,8,["label","modelValue","placeholder"]),n(r,{label:e(l)("cms.content.status"),type:"radio",modelValue:e(t).form.items.status,"onUpdate:modelValue":a[17]||(a[17]=o=>e(t).form.items.status=o),prop:"status","input-attr":{content:{1:"显示",0:"隐藏"}},placeholder:e(l)("Please select field",{field:e(l)("cms.content.status")})},null,8,["label","modelValue","placeholder"])],6)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["model","label-position","label-width","rules"]))]),_:1})),[[j,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{oe as _};
