import{w as k,a7 as y,a6 as w,_ as g}from"./index-BGkrm5xk.js";import{_ as x}from"./popupForm.vue_vue_type_script_setup_true_lang-CDZCTsyD.js";import{d as q,b as I,T as N,a as T}from"./index-D7pEq_sT.js";import{h as v,s as F,at as B,B as C,q as d,o as m,k as E,x as r,N as f,V as S,p as l,O as a,U as i}from"./vue-Cm_-Ome7.js";import"./index-Gg8Utg5G.js";import"./validate-CLs7Ey-q.js";import"./index-6wQyfZWi.js";const z={class:"default-main ba-table-box"},D=v({name:"cms/form",__name:"index",setup(V){const{t:e}=k.useI18n(),p=F(),b=q(["edit","delete"]),t=new I(new y("/admin/cms.Form/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("cms.form.id"),prop:"id",align:"center",width:80,operator:"RANGE",sortable:"custom"},{label:e("cms.form.fcode"),prop:"fcode",align:"center",width:120,operator:!1,sortable:"custom"},{label:e("cms.form.form_name"),prop:"form_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("cms.form.table_name"),prop:"table_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{render:"slot",slotName:"formData",operator:!1},{render:"slot",slotName:"formField",operator:!1},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:b,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{}});let _=w(t.table.column,"render","buttons");return t.table.column[_].buttons[1].display=s=>s.id!=1,B("baTable",t),C(()=>{var s;t.table.ref=p.value,t.mount(),(s=t.getIndex())==null||s.then(()=>{t.initSort(),t.dragSort()})}),(s,o)=>{const h=d("el-alert"),c=d("router-link"),u=d("el-table-column");return m(),E("div",z,[r(t).table.remark?(m(),f(h,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):S("",!0),l(N,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("Quick search placeholder",{fields:r(e)("cms.form.quick Search Fields")})},null,8,["quick-search-placeholder"]),l(T,{ref_key:"tableRef",ref:p},{formData:a(()=>[l(u,{label:r(e)("cms.form.form_data"),width:"160",align:"center"},{default:a(n=>[n.row.fcode==1?(m(),f(c,{key:0,class:"form",to:{path:"message"}},{default:a(()=>o[0]||(o[0]=[i(" 编辑数据 ")])),_:1})):(m(),f(c,{key:1,class:"form",to:{path:"formData",query:{fcode:n.row.fcode}}},{default:a(()=>o[1]||(o[1]=[i(" 编辑数据 ")])),_:2},1032,["to"]))]),_:1},8,["label"])]),formField:a(()=>[l(u,{label:r(e)("cms.form.form_field"),width:"160",align:"center"},{default:a(n=>[l(c,{class:"form",to:{path:"formField",query:{fcode:n.row.fcode}}},{default:a(()=>o[2]||(o[2]=[i(" 编辑字段 ")])),_:2},1032,["to"])]),_:1},8,["label"])]),_:1},512),l(x)])}}}),j=g(D,[["__scopeId","data-v-aba6963b"]]);export{j as default};
