import{c as z,w as L,n as R,t as U,i as E,ag as Y,M as v,ar as p,_ as A}from"./index-BGkrm5xk.js";import{h as V,a as S,aG as G,aA as j,B as J,ah as O,a9 as Q,D as $,q as _,o as y,k as W,m as n,p as e,O as t,x as f,T as i,U as d,Y as q,X as H,N as K,n as X}from"./vue-Cm_-Ome7.js";const Z="/admin/Dashboard/";function ee(){return z({url:Z+"index",method:"get"})}const se="/assets/coffee-BJTYvIRC.svg",te="/assets/header-1-DyUuBJUw.svg",ae={class:"default-main"},le={class:"banner"},oe={class:"welcome suspension"},ne=["src"],re={class:"welcome-text"},de={class:"welcome-title"},ie={class:"welcome-note"},ue={class:"working"},me=["src"],ce={class:"working-text"},fe={class:"time"},_e={class:"small-panel-box"},ge={class:"small-panel user-reg suspension"},ve={class:"small-panel-content"},pe={class:"content-left"},be={class:"small-panel users suspension"},ke={class:"small-panel-content"},we={class:"content-left"},he={class:"small-panel addons suspension"},Te={class:"small-panel-title"},xe={class:"small-panel-content"},ye={class:"content-left"},Ce={class:"system-info"},Ie=V({name:"dashboard",__name:"dashboard",setup(Ne){let k;const w=new Date,{t:m}=L.useI18n(),M=R(),B=U(),l=S({charts:[],remark:"dashboard.Loading",workingTimeFormat:"",pauseWork:!1,server:{},counts:{},modelList:[]}),D=S({userRegNumber:0,fileNumber:0,usersNumber:0,addonsNumber:0}),b=G(D),h={fontSize:"28px"};ee().then(o=>{l.remark=o.data.remark,l.server=o.data.server,l.counts=o.data.counts,l.modelList=o.data.modelList});const F=()=>{b.userRegNumber.value=5456,b.fileNumber.value=1234,b.usersNumber.value=9486,b.addonsNumber.value=875},T=()=>{X(()=>{for(const o in l.charts)l.charts[o].resize()})},P=()=>{const o=parseInt((new Date().getTime()/1e3).toString()),s=v.get(p);l.pauseWork?(s.pauseTime+=o-s.startPauseTime,s.startPauseTime=0,v.set(p,s),l.pauseWork=!1,C()):(s.startPauseTime=o,v.set(p,s),clearInterval(k),l.pauseWork=!0)},C=()=>{const o=v.get(p)||{date:"",startTime:0,pauseTime:0,startPauseTime:0},s=w.getFullYear()+"-"+(w.getMonth()+1)+"-"+w.getDate(),a=parseInt((new Date().getTime()/1e3).toString());o.date!=s&&(o.date=s,o.startTime=a,o.pauseTime=o.startPauseTime=0,v.set(p,o));let r=0;o.startPauseTime<=0?(l.pauseWork=!1,r=0):(l.pauseWork=!0,r=a-o.startPauseTime);let u=a-o.startTime-o.pauseTime-r;l.workingTimeFormat=I(u),l.pauseWork||(k=window.setInterval(()=>{u++,l.workingTimeFormat=I(u)},1e3))},I=o=>{var s=0,a=0,r=0,u=0,c="";return o<60?s=o:(a=Math.floor(o/60),s=Math.floor(o%60),a>=60&&(r=Math.floor(a/60),a=Math.floor(a%60),r>=24&&(u=Math.floor(r/24),r=Math.floor(r%24)))),c=r+m("dashboard.hour")+((a>=10?a:"0"+a)+m("dashboard.minute"))+((s>=10?s:"0"+s)+m("dashboard.second")),u>0&&(c=u+m("dashboard.day")+c),c};return j(()=>{T()}),J(()=>{C(),F(),E(window,"resize",T)}),O(()=>{for(const o in l.charts)l.charts[o].dispose()}),Q(()=>{clearInterval(k)}),$(()=>M.state.tabFullScreen,()=>{T()}),(o,s)=>{const a=_("el-col"),r=_("el-row"),u=_("Icon"),c=_("el-statistic"),x=_("router-link"),N=_("el-card");return y(),W("div",ae,[n("div",le,[e(r,{gutter:10},{default:t(()=>[e(a,{md:24,lg:18},{default:t(()=>[n("div",oe,[n("img",{class:"welcome-img",src:f(te),alt:""},null,8,ne),n("div",re,[n("div",de,i(f(B).nickname+f(m)("utils.comma")+f(Y)()),1),n("div",ie,i(l.remark),1)])])]),_:1}),e(a,{lg:6,class:"hidden-md-and-down"},{default:t(()=>[n("div",ue,[n("img",{class:"working-coffee",src:f(se),alt:""},null,8,me),n("div",ce,[d(i(f(m)("dashboard.You have worked today")),1),n("span",fe,i(l.workingTimeFormat),1)]),n("div",{onClick:s[0]||(s[0]=g=>P()),class:"working-opt working-rest"},i(l.pauseWork?f(m)("dashboard.Continue to work"):f(m)("dashboard.have a bit of rest")),1)])]),_:1})]),_:1})]),n("div",_e,[e(r,{gutter:20},{default:t(()=>[e(a,{sm:12,lg:4},{default:t(()=>[n("div",ge,[e(x,{to:"/admin/cms/models"},{default:t(()=>[s[1]||(s[1]=n("div",{class:"small-panel-title"},"模型管理",-1)),n("div",ve,[n("div",pe,[e(u,{color:"#91CC76",size:"20",name:"fa fa-codepen"}),e(c,{value:l.counts.modelCount,"value-style":h},null,8,["value"])])])]),_:1})])]),_:1}),e(a,{sm:12,lg:4},{default:t(()=>[n("div",be,[e(x,{to:"/admin/cms/contentSort"},{default:t(()=>[s[2]||(s[2]=n("div",{class:"small-panel-title"},"栏目管理",-1)),n("div",ke,[n("div",we,[e(u,{color:"#4E73DF",size:"20",name:"fa fa-align-justify"}),e(c,{value:l.counts.categoryCount,"value-style":h},null,8,["value"])])])]),_:1})])]),_:1}),(y(!0),W(q,null,H(l.modelList,g=>(y(),K(a,{sm:12,lg:4,key:g.mcode},{default:t(()=>[n("div",he,[e(x,{to:`/admin/cms/content/mcode/${g.mcode}`},{default:t(()=>[n("div",Te,i(g.name),1),n("div",xe,[n("div",ye,[e(u,{color:"#FF6900",size:"20",name:"fa fa-file-text-o"}),e(c,{value:l.counts.contentCount[g.mcode].count,"value-style":h},null,8,["value"])])])]),_:2},1032,["to"])])]),_:2},1024))),128))]),_:1})]),n("div",Ce,[e(r,{gutter:20},{default:t(()=>[e(a,{class:"lg-mb-20",xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(N,{shadow:"hover",header:"系统信息"},{default:t(()=>[e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[3]||(s[3]=[d("应用版本")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>s[4]||(s[4]=[d(" BadouCMS 开源版")])),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[5]||(s[5]=[d("系统")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.php_os),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[6]||(s[6]=[d("地址")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.server_name)+" "+i(l.server.server_addr)+":"+i(l.server.server_port),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[7]||(s[7]=[d("WEB软件 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.web_software),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[8]||(s[8]=[d("PHP版 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.php_version),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[9]||(s[9]=[d("文件上传限制 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.upload_max_filesize),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[10]||(s[10]=[d("表单提交限制 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>[d(i(l.server.post_max_size),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(a,{xs:24,sm:24,md:24,lg:12},{default:t(()=>[e(N,{shadow:"hover",header:"开发信息"},{default:t(()=>[e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[11]||(s[11]=[d("系统名称 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>s[12]||(s[12]=[d("BadouCMS网站管理系统")])),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[13]||(s[13]=[d("官方网站 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[14]||(s[14]=[d("源码下载")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>s[15]||(s[15]=[n("a",{href:"https://gitee.com/lande_admin/badoucms",target:"_blank"},"https://gitee.com/lande_admin/badoucms",-1)])),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[16]||(s[16]=[d("系统开发 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>s[17]||(s[17]=[n("a",{href:"https://gitee.com/lande_admin",target:"_blank"},"lande",-1),d("、 "),n("a",{href:"https://gitee.com/YuriysWu",target:"_blank"},"YuriWu",-1)])),_:1})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[18]||(s[18]=[d("版权协议 ")])),_:1}),e(a,{sm:24,lg:20,class:"text"})]),_:1}),e(r,null,{default:t(()=>[e(a,{sm:24,lg:4,class:"label"},{default:t(()=>s[19]||(s[19]=[d("技术交流群")])),_:1}),e(a,{sm:24,lg:20,class:"text"},{default:t(()=>s[20]||(s[20]=[d("QQ群：963655847")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}}}),Me=A(Ie,[["__scopeId","data-v-ecfa0e6a"]]);export{Me as default};
