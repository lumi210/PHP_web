import{h as M,s as E,at as F,a as V,B as $,q as r,W as g,o as i,k as A,N as f,V as x,p as n,O as d,Z as v,x as o,m as h,a5 as R,a6 as j,U as O,T as W}from"./vue-Cm_-Ome7.js";import{c as U,w as Z,e as z,v as _}from"./index-BGkrm5xk.js";import{F as m}from"./index-Gg8Utg5G.js";import{_ as G}from"./index.vue_vue_type_style_index_0_lang-KySb_zIR.js";import{u as w}from"./lang-Ch7gu2FI.js";import"./index-D7pEq_sT.js";import"./index-6wQyfZWi.js";const c="/admin/cms.Company/",H=new Map([["index",c+"index"],["add",c+"add"],["edit",c+"edit"],["del",c+"del"]]);function J(u){return U({url:c+"index",method:"get",params:u})}function Q(u,e){return U({url:H.get(u),method:"post",data:e},{showSuccessMessage:!0})}const X={class:"default-main ba-table-box"},Y={class:"ba-operate-form"},ee={style:{"margin-left":"200px"}},de=M({name:"cms/company",__name:"index",setup(u){const{t:e}=Z.useI18n(),k=z(),s=E();F("baTable",!1);const l=V({loading:!0,config:[],remark:"",activeTab:"basic",showAddForm:!1,rules:{},form:{},formKey:_(),params:{acode:w().getDataLang()}}),b=()=>{J(l.params).then(p=>{l.loading=!1,l.form=p.data.data,l.formKey=_()}).catch(()=>{l.loading=!1})};function y(p=void 0){s.value&&s.value.validate(a=>{a&&(l.form.acode=w().getDataLang(),Q("edit",l.form))})}$(()=>{b()});const P=V({}),q=p=>{l.params.acode=p.datalang,b()};return(p,a)=>{const C=r("el-alert"),D=r("el-form"),T=r("el-tab-pane"),B=r("el-tabs"),L=r("el-scrollbar"),N=r("el-button"),S=r("el-card"),I=g("loading"),K=g("blur");return i(),A("div",X,[l.remark?(i(),f(C,{key:0,class:"ba-table-alert",title:l.remark,type:"info","show-icon":""},null,8,["title"])):x("",!0),n(S,{shadow:"never"},{default:d(()=>[n(G,{style:{"margin-bottom":"20px","margin-left":"0px"},onChangeDataLang:q}),v((i(),f(L,{class:"ba-table-form-scrollbar"},{default:d(()=>[n(B,{modelValue:l.activeTab,"onUpdate:modelValue":a[14]||(a[14]=t=>l.activeTab=t),type:"card"},{default:d(()=>[n(T,{class:"basic-tab-pane",name:"basic",label:o(e)("cms.company.basic")},{default:d(()=>[h("div",Y,[l.loading?x("",!0):(i(),f(D,{key:0,ref_key:"formRef",ref:s,onSubmit:a[12]||(a[12]=R(()=>{},["prevent"])),onKeyup:a[13]||(a[13]=j(t=>y(s.value),["enter"])),model:l.form,"label-position":o(k).layout.shrink?"top":"right","label-width":"200px",rules:P},{default:d(()=>[n(m,{label:o(e)("cms.company.name"),type:"string",modelValue:l.form.name,"onUpdate:modelValue":a[0]||(a[0]=t=>l.form.name=t),prop:"name",placeholder:o(e)("Please input field",{field:o(e)("cms.company.name")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.address"),type:"string",modelValue:l.form.address,"onUpdate:modelValue":a[1]||(a[1]=t=>l.form.address=t),prop:"address",placeholder:o(e)("Please input field",{field:o(e)("cms.company.address")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.postcode"),type:"string",modelValue:l.form.postcode,"onUpdate:modelValue":a[2]||(a[2]=t=>l.form.postcode=t),prop:"postcode",placeholder:o(e)("Please input field",{field:o(e)("cms.company.postcode")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.contact"),type:"string",modelValue:l.form.contact,"onUpdate:modelValue":a[3]||(a[3]=t=>l.form.contact=t),prop:"contact",placeholder:o(e)("Please input field",{field:o(e)("cms.company.contact")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.mobile"),type:"string",modelValue:l.form.mobile,"onUpdate:modelValue":a[4]||(a[4]=t=>l.form.mobile=t),prop:"mobile",placeholder:o(e)("Please input field",{field:o(e)("cms.company.mobile")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.phone"),type:"textarea",modelValue:l.form.phone,"onUpdate:modelValue":a[5]||(a[5]=t=>l.form.phone=t),prop:"phone",placeholder:o(e)("Please input field",{field:o(e)("cms.company.phone")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.fax"),type:"string",modelValue:l.form.fax,"onUpdate:modelValue":a[6]||(a[6]=t=>l.form.fax=t),prop:"fax",placeholder:o(e)("Please input field",{field:o(e)("cms.company.fax")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.email"),type:"string",modelValue:l.form.email,"onUpdate:modelValue":a[7]||(a[7]=t=>l.form.email=t),prop:"email",placeholder:o(e)("Please input field",{field:o(e)("cms.company.email")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.qq"),type:"string",modelValue:l.form.qq,"onUpdate:modelValue":a[8]||(a[8]=t=>l.form.qq=t),prop:"qq",placeholder:o(e)("Please input field",{field:o(e)("cms.company.qq")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.weixin"),type:"image",modelValue:l.form.weixin,"onUpdate:modelValue":a[9]||(a[9]=t=>l.form.weixin=t),prop:"weixin",placeholder:o(e)("Please input field",{field:o(e)("cms.company.weixin")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.blicense"),type:"string",modelValue:l.form.blicense,"onUpdate:modelValue":a[10]||(a[10]=t=>l.form.blicense=t),prop:"blicense",placeholder:o(e)("Please input field",{field:o(e)("cms.company.blicense")})},null,8,["label","modelValue","placeholder"]),n(m,{label:o(e)("cms.company.other"),type:"string",modelValue:l.form.other,"onUpdate:modelValue":a[11]||(a[11]=t=>l.form.other=t),prop:"other",placeholder:o(e)("Please input field",{field:o(e)("cms.company.other")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-position","rules"]))])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})),[[I,l.loading]]),h("div",ee,[v((i(),f(N,{loading:l.loading,onClick:a[15]||(a[15]=t=>y(s.value)),type:"primary"},{default:d(()=>[O(W(o(e)("Save")),1)]),_:1},8,["loading"])),[[K]])])]),_:1})])}}});export{de as default};
